{
    "xpjson": "0.2",
    "type": "PlanSchema",
    "name": "BASALT Foot EV Schema",
    "notes": "Define BASALT EV plans",
    "id": "http://basalt.xgds.org/planner/basaltEVPlanSchema.json",

    "planIdFormat": "{plan.site.id}{plan.platform.id}{plan.planNumber:03d}_{plan.planVersion}_PLAN",
    "stationIdFormat": "{plan.site.id}{plan.platform.id}{plan.planNumber:03d}_{plan.planVersion}_STN{stationIndex:02d}",
    "segmentIdFormat": "{plan.site.id}{plan.platform.id}{plan.planNumber:03d}_{plan.planVersion}_SEG{stationIndex:02d}",
    "commandIdFormat": "{parent.id}_{commandIndex:01d}_{command.presetCode}",
    
     "planParams": [
	{
	    "type": "ParamSpec",
	    "id": "defaultSpeed",
	    "valueType": "number",
        "unit": "meters/sec",
	    "notes": "The default speed for traverses",
	    "required": false,
	    "name": "Default Speed",
	    "default": 0.89408,
	    "widget":"number"
	}
    ],

    "paramSpecs": [
        {
            "type": "ParamSpec",
            "id": "instrument",
            "valueType": "string",
            "notes": "Instrument",
            "editable": false,
            "required": false
        },
        {
            "type": "ParamSpec",
            "id": "tolerance",
            "valueType": "number",
            "minimum": 0,
            "default": 0.6,
            "notes": "The EV must arrive within this distance of the goal position (meters)."
        },
        {
            "type": "ParamSpec",
            "id": "distanceMeters",
            "valueType": "number",
            "minimum": 0,
            "notes": "The length the EV should travel (meters)."
        },
        {
            "type": "ParamSpec",
            "id": "traverseSpeed",
            "valueType": "number",
            "required": false,
            "minimum": 0,
            "notes": "The speed of traverse."
        },
        {
            "type": "ParamSpec",
            "id": "target",
            "valueType": "Point"
        },
        {
            "type": "ParamSpec",
            "id": "duration",
           	"widget":"h:m:s",
            "valueType": "number",
            "minimum": 0,
            "default": 0,
            "notes": "(Hours:)Minutes:Seconds"
        }
    ],

    "stationParams": [
        {
            "type": "ParamSpec",
            "id": "tolerance",
            "parent": "tolerance"
        },
        {
            "type": "ParamSpec",
            "id": "userDuration",
           	"widget":"h:m:s",
            "valueType": "number",
            "minimum": 0,
            "default": 0,
            "notes": "Hours:Minutes:Seconds",
            "name": "User Duration"
            
        }
    ],

    "segmentParams": [
        {
            "type": "ParamSpec",
            "id": "hintedSpeed",
            "valueType": "number",
            "required": false,
            "minimum": 0,
            "notes": "Recommended traverse speed. Actual traverse speed may differ."
        }
    ],
    
     "commandSpecs": [
      {
            "type": "CommandSpec",
            "id": "EVCommand",
            "notes": "EV specific command",
            "parent": "Command",
            "abstract": true,
            "params": [
                {
                    "type": "ParamSpec",
                    "id": "duration",
                    "valueType": "number",
                    "minimum": 0,
                    "default": 0
                },
                {
                    "type": "ParamSpec",
                    "id": "presetCode",
                    "valueType": "string",
                    "required": true
                },
                {
                    "type": "ParamSpec",
                    "id": "presetName",
                    "valueType": "string",
                    "required": true
                },
                {
                    "type": "ParamSpec",
                    "id": "instrument",
                    "parent": "instrument"
                }
            ]
        },
        {
            "type": "CommandSpec",
            "id": "Pause",
            "parent": "EVCommand",
            "color": "#999999",
            "params": [
                {
                    "type": "ParamSpec",
                    "parent": "instrument",
                    "id": "instrument",
                    "default": "Pause"
                }
            ]
        }
     ],

    "stationSequenceCommands": [
    	"Pause"
    ],

    "segmentSequenceCommands": [
    ]
}
